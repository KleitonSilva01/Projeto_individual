<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comece sua nova experiência</title>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <div class="header">
        <div class="container_home">
            <a href="index.html"> <img src="./img/Feelings.png" class="logo_home"></a>
            <ul class="Navbar_home">
                <li>
                    <a href="Home.html">Home</a>
                </li>
                </li>
                <li>
                    <a href="graficos.html"> Top playlist </a>
                </li>
                <li>
                    <a href="./dashboard/mural.html">Deixe seu comentário</a>
                </li>
                |
                <li>
                    <a href="index.html">Sair</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="container_play">
        <div class="banner_playlist">
            <div class="box">
                Selecione a categoria que quer ouvir <br> <select id="lista_play" onchange="musicas()">

                    <option value=""> Selecione

                    </option>


                    <option value="play_sofrencia"> Músicas para sofrer


                    </option>
                    <option value="play_animada"> Músicas animadas

                    </option>
                    <option value="play_paz"> Músicas para relaxar

                    </option>

                </select>
            </div>
            <div class="display_video">

                <div class="display">
                    <div class=imagem>
                        <img style="display:none" id="imagem_play" src="">
                    </div>
                </div>

                <div class="videos_youtube">
                    <button id="button_1" style="display: none" onclick="passar_pro_lado_1()"> ◀ </button>
                    <iframe id="video" width="560" height="315" src="" title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        style="display: none;"></iframe>
                    <button id="button" style="display: none" onclick="passar_pro_lado_2()"> ▶ </button>
                </div>

            </div>

        </div>
    </div>

    <div class="votacao">
        <div class="box_votacao">
            Selecione sua categoria favorita
            <select id="lista_votacao">
                <option value="selecione">Selecione</option>
                <option name="opt" value="100">Sofrência</option>
                <option name="opt" value="101">Animada</option>
                <option name="opt" value="102">Relaxar</option>
            </select>
            <br><br><br>
            <button onclick="enviar()">Enviar categoria favorita</button>
        </div>
    </div>

</body>

</html>

<script>
    function musicas() {
        var lista_playlist = lista_play.value;
        if (lista_playlist == "selecione") {

            video.style.display = "none";
            button_1.style.display = "none";
            button.style.display = "none";
            imagem_play.src = "";
            video.src = ""
        } else if (lista_playlist == "play_sofrencia") {

            video.style.display = "block";
            imagem_play.style.display = "block";
            button.style.display = "block";
            button_1.style.display = "block";

            imagem_play.src = "./img/sofrencia.jpg";
            video.src = "https://www.youtube.com/embed/H1DEczvTjgE"

        } else if (lista_playlist == "play_paz") {

            video.style.display = "block";
            imagem_play.style.display = "block";
            button.style.display = "block";
            button_1.style.display = "block";

            imagem_play.src = "./img/paz.JFIF";
            video.src = "https://www.youtube.com/embed/6cNTT-K6PZQ"
        } else if (lista_playlist == "play_animada") {

            video.style.display = "block";
            imagem_play.style.display = "block";
            button.style.display = "block";
            button_1.style.display = "block";

            imagem_play.src = "./img/animada.jpg";
            video.src = "https://www.youtube.com/embed/d3KaQ-KvQUQ"
        }

    }

    function passar_pro_lado_2() {
        var lista_playlist = lista_play.value;


        if (lista_playlist = "play_sofrencia" && video.src == "https://www.youtube.com/embed/H1DEczvTjgE") {

            video.src = "https://www.youtube.com/embed/WkYqQctOi9g";

        } else if (video.src == "https://www.youtube.com/embed/WkYqQctOi9g") {
            video.src = "https://www.youtube.com/embed/ftcf_bIZqvA";

        } else if (video.src == "https://www.youtube.com/embed/ftcf_bIZqvA") {
            video.src = "https://www.youtube.com/embed/H1DEczvTjgE";

        }

        if (lista_playlist = "play_animada" && video.src == "https://www.youtube.com/embed/d3KaQ-KvQUQ") {

            video.src = "https://www.youtube.com/embed/-OH3w0YkQFo";

        } else if (video.src == "https://www.youtube.com/embed/-OH3w0YkQFo") {
            video.src = "https://www.youtube.com/embed/XFm-sl_i1KI";

        } else if (video.src == "https://www.youtube.com/embed/XFm-sl_i1KI") {
            video.src = "https://www.youtube.com/embed/d3KaQ-KvQUQ";
        }

        if (lista_playlist = "play_paz" && video.src == "https://www.youtube.com/embed/6cNTT-K6PZQ") {

            video.src = "https://www.youtube.com/embed/y4XREoGwLnw";

        } else if (video.src == "https://www.youtube.com/embed/y4XREoGwLnw") {
            video.src = "https://www.youtube.com/embed/AJcXyCC5EUM";

        } else if (video.src == "https://www.youtube.com/embed/AJcXyCC5EUM") {
            video.src = "https://www.youtube.com/embed/6cNTT-K6PZQ";
        }
    }

    function passar_pro_lado_1() {
        var lista_playlist = lista_play.value;


        if (lista_playlist = "play_sofrencia" && video.src == "https://www.youtube.com/embed/ftcf_bIZqvA") {

            video.src = "https://www.youtube.com/embed/WkYqQctOi9g";

        } else if (video.src == "https://www.youtube.com/embed/WkYqQctOi9g") {
            video.src = "https://www.youtube.com/embed/H1DEczvTjgE";

        } else if (video.src == "https://www.youtube.com/embed/H1DEczvTjgE") {
            video.src = "https://www.youtube.com/embed/ftcf_bIZqvA";
        }


        if (lista_playlist = "play_animada" && video.src == "https://www.youtube.com/embed/XFm-sl_i1KI") {

            video.src = "https://www.youtube.com/embed/-OH3w0YkQFo";

        } else if (video.src == "https://www.youtube.com/embed/-OH3w0YkQFo") {
            video.src = "https://www.youtube.com/embed/d3KaQ-KvQUQ";

        } else if (video.src == "https://www.youtube.com/embed/d3KaQ-KvQUQ") {
            video.src = "https://www.youtube.com/embed/XFm-sl_i1KI";
        }

        if (lista_playlist = "play_paz" && video.src == "https://www.youtube.com/embed/AJcXyCC5EUM") {

            video.src = "https://www.youtube.com/embed/y4XREoGwLnw";

        } else if (video.src == "https://www.youtube.com/embed/y4XREoGwLnw") {
            video.src = "https://www.youtube.com/embed/6cNTT-K6PZQ";

        } else if (video.src == "https://www.youtube.com/embed/6cNTT-K6PZQ") {
            video.src = "https://www.youtube.com/embed/AJcXyCC5EUM";
        }
    }
</script>

<script>


    function enviar() {

        var id = sessionStorage.ID_USUARIO;
        var categoria = lista_votacao.value;

        fetch(`/categoria/cadastrar/${categoria}/${id}`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: null

        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Curtida realizado com sucesso!");
                window.location = "/playlist.html";
                limparFormulario();
                finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar a curtida!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            finalizarAguardar();
        });
    }

</script>